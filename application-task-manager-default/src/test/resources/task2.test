.runTransformations
.#-----------------------------------------------------
.input|xwiki/2.0
.# Validate that non inline content is properly supported
.#-----------------------------------------------------
{{task reference="XWiki.Task" status="done"}}
Important task with the following deadline: {{date date="2021/09/07 00:00"/}}
{{/task}}
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginMacroMarkerStandalone [task] [reference=XWiki.Task|status=done] [Important task with the following deadline: {{date date="2021/09/07 00:00"/}}]
beginGroup [[class]=[task-macro][data-source]=[]]
beginFormat [NONE]
onRawText [<input type="checkbox" data-taskId="XWiki.Task" checked class="task-status">] [html/5.0]
endFormat [NONE]
beginLink [Typed = [true] Type = [doc] Reference = [XWiki.Task]] [false]
onSpecialSymbol [#]
onWord [1]
endLink [Typed = [true] Type = [doc] Reference = [XWiki.Task]] [false]
beginGroup [[class]=[task-content]]
beginMetaData [[non-generated-content]=[java.util.List<org.xwiki.rendering.block.Block>]]
beginParagraph
onWord [Important]
onSpace
onWord [task]
onSpace
onWord [with]
onSpace
onWord [the]
onSpace
onWord [following]
onSpace
onWord [deadline]
onSpecialSymbol [:]
onSpace
beginMacroMarkerInline [date] [date=2021/09/07 00:00]
beginFormat [NONE] [[class]=[xwiki-date]]
onWord [2021/09/07 00:00]
endFormat [NONE] [[class]=[xwiki-date]]
endMacroMarkerInline [date] [date=2021/09/07 00:00]
endParagraph
endMetaData [[non-generated-content]=[java.util.List<org.xwiki.rendering.block.Block>]]
endGroup [[class]=[task-content]]
endGroup [[class]=[task-macro][data-source]=[]]
endMacroMarkerStandalone [task] [reference=XWiki.Task|status=done] [Important task with the following deadline: {{date date="2021/09/07 00:00"/}}]
endDocument
.#-----------------------------------------------------
.expect|xhtml/1.0
.#-----------------------------------------------------
<div data-source="" class="task-macro"><input type="checkbox" data-taskId="XWiki.Task" checked class="task-status"><span class="wikiinternallink"><a href="XWiki.Task">#1</a></span><div class="task-content"><p>Important task with the following deadline: <span class="xwiki-date">2021/09/07 00:00</span></p></div></div>